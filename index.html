<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gestionnaire de fichiers moderne</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 0;
      color: #333;
      padding-top: 80px;
      padding-bottom: 100px;
    }

    .container {
      max-width: 1000px;
      margin: 0 auto;
      perspective: 1000px;
      padding: 0 20px;
    }

    /* HEADER STYLES */
    .header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-bottom: 1px solid rgba(255,255,255,0.3);
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
      z-index: 1000;
      transition: all 0.3s ease;
    }

    .header-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1.5rem;
      font-weight: 700;
      color: #667eea;
      text-decoration: none;
      transition: all 0.3s ease;
    }

    .logo:hover {
      transform: scale(1.05);
      color: #764ba2;
    }

    .logo-icon {
      width: 40px;
      height: 40px;
      background: linear-gradient(45deg, #667eea, #764ba2);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-size: 1.2rem;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
      transition: all 0.3s ease;
    }

    .logo:hover .logo-icon {
      transform: rotateY(180deg);
      box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
    }

    .nav-menu {
      display: flex;
      gap: 30px;
      align-items: center;
    }

    .nav-link {
      color: #333;
      text-decoration: none;
      font-weight: 500;
      padding: 8px 16px;
      border-radius: 25px;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .nav-link::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, #667eea, #764ba2);
      transition: left 0.3s ease;
      z-index: -1;
    }

    .nav-link:hover::before {
      left: 0;
    }

    .nav-link:hover {
      color: white;
      transform: translateY(-2px);
    }

    /* FOOTER STYLES */
    .footer {
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-top: 1px solid rgba(255,255,255,0.3);
      box-shadow: 0 -4px 20px rgba(0,0,0,0.1);
      z-index: 1000;
    }

    .footer-content {
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 20px;
      flex-wrap: wrap;
      gap: 20px;
    }

    .footer-links {
      display: flex;
      gap: 25px;
      align-items: center;
      flex-wrap: wrap;
    }

    .footer-link {
      color: #333;
      text-decoration: none;
      font-weight: 500;
      padding: 6px 12px;
      border-radius: 20px;
      transition: all 0.3s ease;
      position: relative;
      font-size: 0.9rem;
    }

    .footer-link:hover {
      color: #667eea;
      transform: translateY(-1px);
    }

    .social-contact {
      display: flex;
      gap: 15px;
      align-items: center;
    }

    .snapchat-btn {
      display: flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(45deg, #FFFC00, #FFC400);
      color: #333;
      text-decoration: none;
      padding: 8px 16px;
      border-radius: 25px;
      font-weight: 600;
      font-size: 0.9rem;
      transition: all 0.3s ease;
      box-shadow: 0 3px 10px rgba(255, 196, 0, 0.3);
    }

    .snapchat-btn:hover {
      transform: translateY(-2px) scale(1.05);
      box-shadow: 0 6px 20px rgba(255, 196, 0, 0.5);
    }

    .snapchat-icon {
      width: 20px;
      height: 20px;
      background: white;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 12px;
    }

    h1 {
      text-align: center;
      font-size: 2.5rem;
      margin-bottom: 30px;
      color: white;
      text-shadow: 0 4px 8px rgba(0,0,0,0.3);
      animation: floatTitle 3s ease-in-out infinite alternate;
    }

    @keyframes floatTitle {
      0% { transform: translateY(0px); }
      100% { transform: translateY(-10px); }
    }

    .upload-section {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      padding: 40px;
      border-radius: 20px;
      margin-bottom: 30px;
      box-shadow: 
        0 8px 32px rgba(0,0,0,0.1),
        0 0 0 1px rgba(255,255,255,0.2);
      transform: translateZ(0);
      transition: all 0.3s ease;
      border: 1px solid rgba(255,255,255,0.3);
    }

    .upload-section:hover {
      transform: translateY(-5px) rotateX(5deg);
      box-shadow: 
        0 20px 40px rgba(0,0,0,0.15),
        0 0 0 1px rgba(255,255,255,0.3);
    }

    .upload-area {
      border: 3px dashed #667eea;
      border-radius: 15px;
      padding: 40px;
      text-align: center;
      background: linear-gradient(45deg, #f8f9ff, #ffffff);
      position: relative;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .upload-area::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: linear-gradient(45deg, transparent, rgba(102, 126, 234, 0.1), transparent);
      transform: rotate(45deg);
      transition: all 0.5s ease;
      opacity: 0;
    }

    .upload-area:hover::before {
      opacity: 1;
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
      100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }

    .upload-area.drag-over {
      border-color: #764ba2;
      background: linear-gradient(45deg, #f0f8ff, #e6f3ff);
      transform: scale(1.02);
    }

    .file-input-wrapper {
      position: relative;
      display: inline-block;
      margin: 20px 0;
    }

    #fileInput {
      opacity: 0;
      position: absolute;
      width: 100%;
      height: 100%;
      cursor: pointer;
    }

    .file-input-label {
      display: inline-block;
      padding: 15px 30px;
      background: linear-gradient(45deg, #667eea, #764ba2);
      color: white;
      border-radius: 50px;
      cursor: pointer;
      font-weight: 600;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
      position: relative;
      overflow: hidden;
    }

    .file-input-label:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(102, 126, 234, 0.6);
    }

    .upload-btn {
      background: linear-gradient(45deg, #4CAF50, #45a049);
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 50px;
      cursor: pointer;
      font-size: 16px;
      font-weight: 600;
      margin-left: 20px;
      transition: all 0.3s ease;
      box-shadow: 0 4px 15px rgba(76, 175, 80, 0.4);
    }

    .upload-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(76, 175, 80, 0.6);
    }

    .file-list-section {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 
        0 8px 32px rgba(0,0,0,0.1),
        0 0 0 1px rgba(255,255,255,0.2);
      border: 1px solid rgba(255,255,255,0.3);
    }

    .section-title {
      font-size: 1.8rem;
      margin-bottom: 20px;
      color: #333;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .file-grid {
      display: grid;
      gap: 15px;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
    }

    .file-item {
      background: white;
      padding: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
      transition: all 0.3s ease;
      border-left: 4px solid #667eea;
      position: relative;
      overflow: hidden;
    }

    .file-item::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(45deg, transparent, rgba(102, 126, 234, 0.05), transparent);
      transform: translateX(-100%);
      transition: transform 0.6s ease;
    }

    .file-item:hover::before {
      transform: translateX(100%);
    }

    .file-item:hover {
      transform: translateY(-5px) rotateY(5deg);
      box-shadow: 0 10px 30px rgba(0,0,0,0.2);
    }

    .file-info {
      display: flex;
      align-items: center;
      gap: 15px;
      margin-bottom: 15px;
    }

    .file-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 18px;
      color: white;
      font-weight: bold;
    }

    .file-details {
      flex: 1;
    }

    .file-name {
      font-weight: 600;
      color: #333;
      margin-bottom: 5px;
    }

    .file-type {
      font-size: 0.9rem;
      color: #666;
    }

    .file-actions {
      display: flex;
      gap: 10px;
      justify-content: flex-end;
    }

    .action-btn {
      padding: 8px 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 14px;
      font-weight: 500;
      transition: all 0.3s ease;
      position: relative;
      overflow: hidden;
    }

    .view-btn {
      background: linear-gradient(45deg, #2196F3, #1976D2);
      color: white;
      box-shadow: 0 2px 8px rgba(33, 150, 243, 0.3);
    }

    .view-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(33, 150, 243, 0.5);
    }

    .download-btn {
      background: linear-gradient(45deg, #4CAF50, #45a049);
      color: white;
      box-shadow: 0 2px 8px rgba(76, 175, 80, 0.3);
    }

    .download-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(76, 175, 80, 0.5);
    }

    .delete-btn {
      background: linear-gradient(45deg, #f44336, #d32f2f);
      color: white;
      box-shadow: 0 2px 8px rgba(244, 67, 54, 0.3);
    }

    .delete-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 15px rgba(244, 67, 54, 0.5);
    }

    .empty-state {
      text-align: center;
      padding: 60px 20px;
      color: #666;
    }

    .empty-state-icon {
      font-size: 4rem;
      margin-bottom: 20px;
      opacity: 0.5;
    }

    /* Modal pour pr√©visualisation */
    .modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      z-index: 2000;
      backdrop-filter: blur(10px);
    }

    .modal-content {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      background: white;
      border-radius: 20px;
      padding: 30px;
      max-width: 90%;
      max-height: 90%;
      overflow: auto;
      box-shadow: 0 20px 40px rgba(0,0,0,0.3);
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      padding-bottom: 15px;
      border-bottom: 2px solid #f0f0f0;
    }

    .close-btn {
      background: #f44336;
      color: white;
      border: none;
      border-radius: 50%;
      width: 40px;
      height: 40px;
      cursor: pointer;
      font-size: 20px;
      transition: all 0.3s ease;
    }

    .close-btn:hover {
      background: #d32f2f;
      transform: rotate(90deg);
    }

    .preview-content {
      text-align: center;
    }

    .preview-content img {
      max-width: 100%;
      max-height: 500px;
      border-radius: 10px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.1);
    }

    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      
      h1 {
        font-size: 2rem;
      }
      
      .file-grid {
        grid-template-columns: 1fr;
      }
      
      .upload-section {
        padding: 20px;
      }
      
      .file-input-label, .upload-btn {
        display: block;
        margin: 10px 0;
        text-align: center;
      }
      
      .nav-menu {
        gap: 15px;
      }
      
      .nav-link {
        padding: 6px 12px;
        font-size: 0.9rem;
      }
      
      .footer-content {
        flex-direction: column;
        text-align: center;
        gap: 15px;
      }
      
      .footer-links {
        justify-content: center;
        gap: 15px;
      }
      
      .header-content {
        padding: 10px 15px;
      }
      
      .logo {
        font-size: 1.2rem;
      }
      
      .logo-icon {
        width: 35px;
        height: 35px;
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- HEADER -->
  <header class="header">
    <div class="header-content">
      <a href="#" class="logo">
        <div class="logo-icon">üìÅ</div>
        <span>FileManager</span>
      </a>
      <nav class="nav-menu">
        <a href="#" class="nav-link" data-modal="about">√Ä propos</a>
        <a href="#" class="nav-link" data-modal="features">Fonctionnalit√©s</a>
        <a href="#" class="nav-link" data-modal="help">Aide</a>
      </nav>
    </div>
  </header>

  <div class="container">
    <h1>üìÇ Gestionnaire de fichiers moderne</h1>

    <div class="upload-section">
      <div class="upload-area" id="uploadArea">
        <div style="font-size: 3rem; margin-bottom: 20px;">‚òÅÔ∏è</div>
        <h3 style="margin-bottom: 15px;">Glissez vos fichiers ici ou cliquez pour s√©lectionner</h3>
        <div class="file-input-wrapper">
          <input type="file" id="fileInput" multiple>
          <label for="fileInput" class="file-input-label">
            üìÅ Choisir des fichiers
          </label>
          <button class="upload-btn" id="uploadBtn">üöÄ Uploader</button>
        </div>
      </div>
    </div>

    <div class="file-list-section">
      <h2 class="section-title">
        <span>üìã</span>
        Fichiers enregistr√©s
      </h2>
      <div id="fileList" class="file-grid">
        <div class="empty-state">
          <div class="empty-state-icon">üìÇ</div>
          <p>Aucun fichier pour le moment</p>
          <p style="font-size: 0.9rem; margin-top: 10px;">Uploadez votre premier fichier ci-dessus !</p>
        </div>
      </div>
    </div>
  </div>

  <!-- FOOTER -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-links">
        <a href="#" class="footer-link" data-modal="terms">Conditions d'utilisation</a>
        <a href="#" class="footer-link" data-modal="privacy">Confidentialit√©</a>
        <a href="#" class="footer-link" data-modal="contact">Contact</a>
        <span style="color: #666; font-size: 0.9rem;">¬© 2025 FileManager Pro</span>
      </div>
      <div class="social-contact">
        <a href="https://snapchat.com/t/yfRhChk4" target="_blank" class="snapchat-btn">
          <div class="snapchat-icon">üëª</div>
          <span>Snapchat</span>
        </a>
      </div>
    </div>
  </footer>

  <!-- Modal de pr√©visualisation -->
  <div id="previewModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalTitle">Aper√ßu du fichier</h3>
        <button class="close-btn" id="closeModalBtn">&times;</button>
      </div>
      <div id="previewContent" class="preview-content">
      </div>
    </div>
  </div>

  <!-- Modals pour les pages -->
  <div id="aboutModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>üìö √Ä propos de FileManager</h3>
        <button class="close-btn" data-close-modal>&times;</button>
      </div>
      <div class="modal-body">
        <p style="margin-bottom: 20px; line-height: 1.6;">FileManager est une application moderne de gestion de fichiers en ligne, con√ßue pour offrir une exp√©rience utilisateur exceptionnelle.</p>
        <div style="background: #f8f9ff; padding: 20px; border-radius: 10px; margin: 20px 0;">
          <h4 style="color: #667eea; margin-bottom: 10px;">‚ú® Caract√©ristiques principales :</h4>
          <ul style="margin-left: 20px; line-height: 1.8;">
            <li>Interface moderne avec design 3D</li>
            <li>Glisser-d√©poser intuitif</li>
            <li>Pr√©visualisation des fichiers</li>
            <li>Stockage s√©curis√© avec Firebase</li>
            <li>Design responsive</li>
          </ul>
        </div>
        <p style="color: #666; font-style: italic;">Version 1.0 - D√©velopp√© avec passion ‚ù§Ô∏è</p>
      </div>
    </div>
  </div>

  <div id="featuresModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>üöÄ Fonctionnalit√©s</h3>
        <button class="close-btn" data-close-modal>&times;</button>
      </div>
      <div class="modal-body">
        <div style="display: grid; gap: 20px;">
          <div style="background: white; padding: 20px; border-radius: 15px; border-left: 4px solid #4CAF50;">
            <h4 style="color: #4CAF50; margin-bottom: 10px;">üìÅ Upload avanc√©</h4>
            <p>Glissez-d√©posez vos fichiers ou utilisez le s√©lecteur. Support multi-fichiers.</p>
          </div>
          <div style="background: white; padding: 20px; border-radius: 15px; border-left: 4px solid #2196F3;">
            <h4 style="color: #2196F3; margin-bottom: 10px;">üëÅÔ∏è Pr√©visualisation</h4>
            <p>Visualisez directement vos images, PDFs et obtenez des infos sur vos fichiers.</p>
          </div>
          <div style="background: white; padding: 20px; border-radius: 15px; border-left: 4px solid #FF9800;">
            <h4 style="color: #FF9800; margin-bottom: 10px;">üì± Responsive</h4>
            <p>Interface adapt√©e √† tous les appareils : mobile, tablette, desktop.</p>
          </div>
          <div style="background: white; padding: 20px; border-radius: 15px; border-left: 4px solid #9C27B0;">
            <h4 style="color: #9C27B0; margin-bottom: 10px;">üîí S√©curit√©</h4>
            <p>Vos fichiers sont stock√©s de mani√®re s√©curis√©e avec Firebase.</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="helpModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>‚ùì Aide & Support</h3>
        <button class="close-btn" data-close-modal>&times;</button>
      </div>
      <div class="modal-body">
        <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
          <h4 style="color: #2196F3; margin-bottom: 15px;">üìù Comment utiliser FileManager ?</h4>
          <ol style="margin-left: 20px; line-height: 1.8;">
            <li><strong>Upload :</strong> Glissez vos fichiers dans la zone ou cliquez "Choisir des fichiers"</li>
            <li><strong>Visualiser :</strong> Cliquez sur "üëÅÔ∏è Afficher" pour pr√©visualiser</li>
            <li><strong>T√©l√©charger :</strong> Utilisez le bouton "‚¨áÔ∏è T√©l√©charger"</li>
            <li><strong>Supprimer :</strong> Cliquez sur "üóëÔ∏è Supprimer" (avec confirmation)</li>
          </ol>
        </div>
        <div style="background: #fff3e0; padding: 20px; border-radius: 10px;">
          <h4 style="color: #FF9800; margin-bottom: 10px;">üìû Besoin d'aide ?</h4>
          <p>Contactez-nous via Snapchat pour un support rapide et personnalis√© !</p>
          <a href="https://snapchat.com/t/yfRhChk4" target="_blank" style="display: inline-block; margin-top: 10px; padding: 8px 16px; background: #FFFC00; color: #333; text-decoration: none; border-radius: 20px; font-weight: 600;">
            üëª Ouvrir Snapchat
          </a>
        </div>
      </div>
    </div>
  </div>

  <div id="termsModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>üìú Conditions d'utilisation</h3>
        <button class="close-btn" data-close-modal>&times;</button>
      </div>
      <div class="modal-body">
        <div style="line-height: 1.6;">
          <h4 style="color: #667eea; margin-bottom: 15px;">1. Acceptation des conditions</h4>
          <p style="margin-bottom: 20px;">En utilisant FileManager, vous acceptez ces conditions d'utilisation.</p>
          
          <h4 style="color: #667eea; margin-bottom: 15px;">2. Utilisation du service</h4>
          <p style="margin-bottom: 20px;">Vous vous engagez √† utiliser le service de mani√®re responsable et conforme aux lois en vigueur.</p>
          
          <h4 style="color: #667eea; margin-bottom: 15px;">3. Vos fichiers</h4>
          <p style="margin-bottom: 20px;">Vous √™tes responsable du contenu que vous uploadez. Assurez-vous d'avoir les droits n√©cessaires.</p>
          
          <h4 style="color: #667eea; margin-bottom: 15px;">4. Limitation de responsabilit√©</h4>
          <p style="margin-bottom: 20px;">Le service est fourni "en l'√©tat". Nous ne garantissons pas la disponibilit√© continue du service.</p>
          
          <p style="color: #666; font-style: italic; margin-top: 30px;">Derni√®re mise √† jour : Septembre 2025</p>
        </div>
      </div>
    </div>
  </div>

  <div id="privacyModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>üîí Politique de confidentialit√©</h3>
        <button class="close-btn" data-close-modal>&times;</button>
      </div>
      <div class="modal-body">
        <div style="line-height: 1.6;">
          <h4 style="color: #4CAF50; margin-bottom: 15px;">Protection de vos donn√©es</h4>
          <p style="margin-bottom: 20px;">Nous respectons votre vie priv√©e et nous nous engageons √† prot√©ger vos donn√©es personnelles.</p>
          
          <h4 style="color: #4CAF50; margin-bottom: 15px;">Collecte d'informations</h4>
          <p style="margin-bottom: 20px;">Nous collectons uniquement les fichiers que vous uploadez volontairement pour les stocker et les g√©rer.</p>
          
          <h4 style="color: #4CAF50; margin-bottom: 15px;">Utilisation des donn√©es</h4>
          <p style="margin-bottom: 20px;">Vos fichiers sont utilis√©s uniquement pour le fonctionnement du service de gestion de fichiers.</p>
          
          <h4 style="color: #4CAF50; margin-bottom: 15px;">S√©curit√©</h4>
          <p style="margin-bottom: 20px;">Nous utilisons Firebase pour un stockage s√©curis√© et chiffr√© de vos fichiers.</p>
          
          <h4 style="color: #4CAF50; margin-bottom: 15px;">Vos droits</h4>
          <p style="margin-bottom: 20px;">Vous pouvez supprimer vos fichiers √† tout moment directement depuis l'interface.</p>
        </div>
      </div>
    </div>
  </div>

  <div id="contactModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>üìû Contact</h3>
        <button class="close-btn" data-close-modal>&times;</button>
      </div>
      <div class="modal-body">
        <div style="text-align: center;">
          <div style="background: linear-gradient(45deg, #FFFC00, #FFC400); padding: 30px; border-radius: 20px; margin-bottom: 20px;">
            <div style="font-size: 4rem; margin-bottom: 20px;">üëª</div>
            <h3 style="color: #333; margin-bottom: 15px;">Contactez-nous sur Snapchat !</h3>
            <p style="color: #333; margin-bottom: 20px;">Pour toute question, suggestion ou support, nous sommes disponibles sur Snapchat.</p>
            <a href="https://snapchat.com/t/yfRhChk4" target="_blank" style="display: inline-block; padding: 12px 24px; background: white; color: #333; text-decoration: none; border-radius: 25px; font-weight: 600; box-shadow: 0 4px 15px rgba(0,0,0,0.1); transition: all 0.3s ease;">
              üöÄ Ouvrir Snapchat
            </a>
          </div>
          
          <div style="background: #f8f9ff; padding: 20px; border-radius: 15px;">
            <h4 style="color: #667eea; margin-bottom: 10px;">‚öñÔ∏è Pourquoi Snapchat ?</h4>
            <p style="color: #666; line-height: 1.6;">Snapchat nous permet de vous offrir un support rapide, interactif et personnalis√©. Vous pouvez nous envoyer des captures d'√©cran, poser vos questions et recevoir une aide imm√©diate !</p>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Firebase SDK -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

  <script>
    // Configuration Firebase
    const firebaseConfig = {
      apiKey: "AIzaSyC_JIXVAtXBcg9czv5dRrVHuGq11jKzdv4",
      authDomain: "chatonline-6d33b.firebaseapp.com",
      databaseURL: "https://chatonline-6d33b-default-rtdb.europe-west1.firebasedatabase.app/",
      projectId: "chatonline-6d33b",
      storageBucket: "chatonline-6d33b.firebasestorage.app",
      messagingSenderId: "115123207870",
      appId: "1:115123207870:web:31830a862cbd824e8d68ef"
    };

    // Initialisation Firebase
    firebase.initializeApp(firebaseConfig);
    const db = firebase.database();

    // Variables globales
    let fileCount = 0;

    // Drag & Drop
    const uploadArea = document.getElementById('uploadArea');
    
    ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
      uploadArea.addEventListener(eventName, preventDefaults, false);
    });

    function preventDefaults(e) {
      e.preventDefault();
      e.stopPropagation();
    }

    ['dragenter', 'dragover'].forEach(eventName => {
      uploadArea.addEventListener(eventName, highlight, false);
    });

    ['dragleave', 'drop'].forEach(eventName => {
      uploadArea.addEventListener(eventName, unhighlight, false);
    });

    function highlight() {
      uploadArea.classList.add('drag-over');
    }

    function unhighlight() {
      uploadArea.classList.remove('drag-over');
    }

    uploadArea.addEventListener('drop', handleDrop, false);

    function handleDrop(e) {
      const dt = e.dataTransfer;
      const files = dt.files;
      handleFiles(files);
    }

    function handleFiles(files) {
      // Traiter les fichiers d√©pos√©s directement
      Array.from(files).forEach((file, index) => {
        const reader = new FileReader();
        reader.onload = function(e) {
          const base64File = e.target.result;
          const fileData = {
            name: file.name,
            type: file.type,
            size: file.size,
            data: base64File,
            uploadDate: new Date().toISOString()
          };
          
          // Sauvegarde dans la DB
          db.ref("files").push(fileData).then(() => {
            showNotification(`‚úÖ ${file.name} upload√© avec succ√®s !`, "success");
          }).catch(() => {
            showNotification(`‚ùå Erreur lors de l'upload de ${file.name}`, "error");
          });
        };
        reader.readAsDataURL(file);
      });
    }

    // Fonction d'upload
    function uploadFile() {
      const fileInput = document.getElementById("fileInput");
      const files = fileInput.files;
      
      if (files.length === 0) {
        showNotification("Veuillez choisir au moins un fichier !", "error");
        return;
      }

      Array.from(files).forEach((file, index) => {
        const reader = new FileReader();
        reader.onload = function(e) {
          const base64File = e.target.result;
          const fileData = {
            name: file.name,
            type: file.type,
            size: file.size,
            data: base64File,
            uploadDate: new Date().toISOString()
          };
          
          // Sauvegarde dans la DB
          db.ref("files").push(fileData).then(() => {
            showNotification(`‚úÖ ${file.name} upload√© avec succ√®s !`, "success");
            if (index === files.length - 1) {
              fileInput.value = "";
            }
          }).catch(() => {
            showNotification(`‚ùå Erreur lors de l'upload de ${file.name}`, "error");
          });
        };
        reader.readAsDataURL(file);
      });
    }

    // Fonction de suppression
    function deleteFile(key, fileName) {
      if (confirm(`√ätes-vous s√ªr de vouloir supprimer "${fileName}" ?`)) {
        db.ref(`files/${key}`).remove().then(() => {
          showNotification(`üóëÔ∏è ${fileName} supprim√© avec succ√®s !`, "success");
        }).catch(() => {
          showNotification(`‚ùå Erreur lors de la suppression`, "error");
        });
      }
    }

    // Fonction de pr√©visualisation
    function previewFile(file) {
      const modal = document.getElementById('previewModal');
      const modalTitle = document.getElementById('modalTitle');
      const previewContent = document.getElementById('previewContent');
      
      modalTitle.textContent = file.name; // S√©curis√© contre XSS
      
      if (file.type.startsWith('image/')) {
        // Cr√©er l'image de fa√ßon s√©curis√©e
        const img = document.createElement('img');
        img.src = file.data;
        img.alt = file.name; // S√©curis√© automatiquement par le DOM
        img.style.maxWidth = '100%';
        img.style.maxHeight = '500px';
        img.style.borderRadius = '10px';
        img.style.boxShadow = '0 4px 15px rgba(0,0,0,0.1)';
        
        previewContent.innerHTML = '';
        previewContent.appendChild(img);
      } else if (file.type === 'application/pdf') {
        // Cr√©er l'iframe de fa√ßon s√©curis√©e
        const iframe = document.createElement('iframe');
        iframe.src = file.data;
        iframe.width = '100%';
        iframe.height = '500px';
        iframe.style.border = 'none';
        iframe.style.borderRadius = '10px';
        
        previewContent.innerHTML = '';
        previewContent.appendChild(iframe);
      } else if (file.type.startsWith('text/')) {
        // Pour les fichiers texte, on pourrait d√©coder le base64, mais c'est plus complexe
        // Cr√©er le contenu de fa√ßon s√©curis√©e pour les fichiers texte
        const textDiv = document.createElement('div');
        textDiv.style.cssText = 'padding: 20px; background: #f5f5f5; border-radius: 10px; text-align: left;';
        
        const typeP = document.createElement('p');
        typeP.innerHTML = '<strong>Type:</strong> ';
        typeP.appendChild(document.createTextNode(file.type));
        
        const sizeP = document.createElement('p');
        sizeP.innerHTML = '<strong>Taille:</strong> ';
        sizeP.appendChild(document.createTextNode(formatFileSize(file.size)));
        
        const dateP = document.createElement('p');
        dateP.innerHTML = '<strong>Date d\'upload:</strong> ';
        dateP.appendChild(document.createTextNode(new Date(file.uploadDate).toLocaleDateString()));
        
        const noteP = document.createElement('p');
        noteP.style.cssText = 'margin-top: 15px; color: #666;';
        noteP.textContent = 'T√©l√©chargez le fichier pour le visualiser';
        
        textDiv.appendChild(typeP);
        textDiv.appendChild(sizeP);
        textDiv.appendChild(dateP);
        textDiv.appendChild(noteP);
        
        previewContent.innerHTML = '';
        previewContent.appendChild(textDiv);
      } else {
        // Cr√©er le contenu de fa√ßon s√©curis√©e pour les autres fichiers
        const genericDiv = document.createElement('div');
        genericDiv.style.cssText = 'padding: 20px; background: #f5f5f5; border-radius: 10px;';
        
        const iconDiv = document.createElement('div');
        iconDiv.style.cssText = 'font-size: 4rem; margin-bottom: 20px;';
        iconDiv.textContent = 'üìÑ';
        
        const nameP = document.createElement('p');
        nameP.innerHTML = '<strong>Nom:</strong> ';
        nameP.appendChild(document.createTextNode(file.name));
        
        const typeP = document.createElement('p');
        typeP.innerHTML = '<strong>Type:</strong> ';
        typeP.appendChild(document.createTextNode(file.type));
        
        const sizeP = document.createElement('p');
        sizeP.innerHTML = '<strong>Taille:</strong> ';
        sizeP.appendChild(document.createTextNode(formatFileSize(file.size)));
        
        const dateP = document.createElement('p');
        dateP.innerHTML = '<strong>Date d\'upload:</strong> ';
        dateP.appendChild(document.createTextNode(new Date(file.uploadDate).toLocaleDateString()));
        
        const noteP = document.createElement('p');
        noteP.style.cssText = 'margin-top: 15px; color: #666;';
        noteP.textContent = 'Ce type de fichier ne peut pas √™tre pr√©visualis√©';
        
        genericDiv.appendChild(iconDiv);
        genericDiv.appendChild(nameP);
        genericDiv.appendChild(typeP);
        genericDiv.appendChild(sizeP);
        genericDiv.appendChild(dateP);
        genericDiv.appendChild(noteP);
        
        previewContent.innerHTML = '';
        previewContent.appendChild(genericDiv);
      }
      
      modal.style.display = 'block';
      setTimeout(() => {
        modal.style.opacity = '1';
      }, 10);
    }

    // Fermer la modal
    function closeModal() {
      const modal = document.getElementById('previewModal');
      modal.style.display = 'none';
    }

    // Fonction pour ouvrir les modals de pages
    function openPageModal(modalName) {
      const modalId = modalName + 'Modal';
      const modal = document.getElementById(modalId);
      if (modal) {
        modal.style.display = 'block';
        setTimeout(() => {
          modal.style.opacity = '1';
        }, 10);
      }
    }
    
    // Fermer les modals en cliquant √† c√¥t√©
    window.onclick = function(event) {
      if (event.target.classList.contains('modal')) {
        event.target.style.display = 'none';
      }
    }

    // Fonction de t√©l√©chargement
    function downloadFile(file) {
      const link = document.createElement("a");
      link.href = file.data;
      link.download = file.name;
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
      showNotification(`‚¨áÔ∏è T√©l√©chargement de ${file.name} commenc√© !`, "success");
    }

    // D√©terminer l'ic√¥ne du fichier
    function getFileIcon(type) {
      if (type.startsWith('image/')) return { icon: 'üñºÔ∏è', color: '#4CAF50' };
      if (type.startsWith('video/')) return { icon: 'üé•', color: '#FF9800' };
      if (type.startsWith('audio/')) return { icon: 'üéµ', color: '#9C27B0' };
      if (type === 'application/pdf') return { icon: 'üìÑ', color: '#F44336' };
      if (type.includes('text')) return { icon: 'üìù', color: '#2196F3' };
      if (type.includes('zip') || type.includes('rar')) return { icon: 'üì¶', color: '#607D8B' };
      return { icon: 'üìé', color: '#795548' };
    }

    // Formater la taille des fichiers
    function formatFileSize(bytes) {
      if (bytes === 0) return '0 Bytes';
      const k = 1024;
      const sizes = ['Bytes', 'KB', 'MB', 'GB'];
      const i = Math.floor(Math.log(bytes) / Math.log(k));
      return parseFloat((bytes / Math.pow(k, i)).toFixed(2)) + ' ' + sizes[i];
    }

    // Notifications
    function showNotification(message, type) {
      const notification = document.createElement('div');
      notification.style.cssText = `
        position: fixed;
        top: 20px;
        right: 20px;
        padding: 15px 20px;
        border-radius: 10px;
        color: white;
        font-weight: 600;
        z-index: 10000;
        animation: slideIn 0.3s ease;
        max-width: 300px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
      `;
      
      if (type === 'success') {
        notification.style.background = 'linear-gradient(45deg, #4CAF50, #45a049)';
      } else {
        notification.style.background = 'linear-gradient(45deg, #f44336, #d32f2f)';
      }
      
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.animation = 'slideOut 0.3s ease';
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 300);
      }, 3000);
    }

    // Am√©lioration de la fonction closeModal pour g√©rer toutes les modals
    function closeModal() {
      const modals = document.querySelectorAll('.modal');
      modals.forEach(modal => {
        modal.style.display = 'none';
      });
    }
    
    // CSS pour animations des notifications
    const style = document.createElement('style');
    style.textContent = `
      @keyframes slideIn {
        from { transform: translateX(100%); opacity: 0; }
        to { transform: translateX(0); opacity: 1; }
      }
      @keyframes slideOut {
        from { transform: translateX(0); opacity: 1; }
        to { transform: translateX(100%); opacity: 0; }
      }
    `;
    document.head.appendChild(style);

    // Gestionnaire d'√©v√©nements pour tous les boutons et modals
    document.addEventListener('click', function(e) {
      if (e.target.id === 'uploadBtn') {
        uploadFile();
        return;
      }
      
      if (e.target.id === 'closeModalBtn' || e.target.hasAttribute('data-close-modal')) {
        closeModal();
        return;
      }
      
      // Gestion des liens de navigation et footer avec modals
      if (e.target.hasAttribute('data-modal')) {
        e.preventDefault();
        const modalName = e.target.getAttribute('data-modal');
        openPageModal(modalName);
        return;
      }
      
      if (e.target.classList.contains('view-btn')) {
        const fileItem = e.target.closest('.file-item');
        if (fileItem && fileItem._fileData) {
          previewFile(fileItem._fileData);
        }
      } else if (e.target.classList.contains('download-btn')) {
        const fileItem = e.target.closest('.file-item');
        if (fileItem && fileItem._fileData) {
          downloadFile(fileItem._fileData);
        }
      } else if (e.target.classList.contains('delete-btn')) {
        const key = e.target.dataset.fileKey;
        const fileName = e.target.dataset.fileName;
        if (key && fileName) {
          deleteFile(key, fileName);
        }
      }
    });

    // Afficher les fichiers en temps r√©el
    db.ref("files").on("value", snapshot => {
      const fileList = document.getElementById("fileList");
      fileList.innerHTML = "";
      fileCount = 0;
      
      if (snapshot.exists()) {
        snapshot.forEach(child => {
          const file = child.val();
          const key = child.key;
          fileCount++;
          
          const fileInfo = getFileIcon(file.type);
          
          const div = document.createElement("div");
          div.className = "file-item";
          div.style.animationDelay = `${fileCount * 0.1}s`;
          
          // Cr√©er les √©l√©ments de fa√ßon s√©curis√©e
          const fileInfoDiv = document.createElement('div');
          fileInfoDiv.className = 'file-info';
          
          const fileIcon = document.createElement('div');
          fileIcon.className = 'file-icon';
          fileIcon.style.background = fileInfo.color;
          fileIcon.textContent = fileInfo.icon;
          
          const fileDetails = document.createElement('div');
          fileDetails.className = 'file-details';
          
          const fileName = document.createElement('div');
          fileName.className = 'file-name';
          fileName.textContent = file.name; // S√©curis√© contre XSS
          
          const fileType = document.createElement('div');
          fileType.className = 'file-type';
          fileType.textContent = `${file.type} ‚Ä¢ ${formatFileSize(file.size || 0)}`;
          
          fileDetails.appendChild(fileName);
          fileDetails.appendChild(fileType);
          fileInfoDiv.appendChild(fileIcon);
          fileInfoDiv.appendChild(fileDetails);
          
          const actionsDiv = document.createElement('div');
          actionsDiv.className = 'file-actions';
          
          const viewBtn = document.createElement('button');
          viewBtn.className = 'action-btn view-btn';
          viewBtn.innerHTML = 'üëÅÔ∏è Afficher';
          viewBtn.dataset.fileKey = key;
          
          const downloadBtn = document.createElement('button');
          downloadBtn.className = 'action-btn download-btn';
          downloadBtn.innerHTML = '‚¨áÔ∏è T√©l√©charger';
          downloadBtn.dataset.fileKey = key;
          
          const deleteBtn = document.createElement('button');
          deleteBtn.className = 'action-btn delete-btn';
          deleteBtn.innerHTML = 'üóëÔ∏è Supprimer';
          deleteBtn.dataset.fileKey = key;
          deleteBtn.dataset.fileName = file.name;
          
          actionsDiv.appendChild(viewBtn);
          actionsDiv.appendChild(downloadBtn);
          actionsDiv.appendChild(deleteBtn);
          
          div.appendChild(fileInfoDiv);
          div.appendChild(actionsDiv);
          
          // Stocker les donn√©es du fichier de fa√ßon s√©curis√©e
          div._fileData = file;
          
          fileList.appendChild(div);
        });
      } else {
        fileList.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">üìÇ</div>
            <p>Aucun fichier pour le moment</p>
            <p style="font-size: 0.9rem; margin-top: 10px;">Uploadez votre premier fichier ci-dessus !</p>
          </div>
        `;
      }
    });

    // Animation d'entr√©e pour les √©l√©ments
    const animationStyle = document.createElement('style');
    animationStyle.textContent = `
      .file-item {
        animation: fadeInUp 0.6s ease forwards;
        opacity: 0;
        transform: translateY(20px);
      }
      
      @keyframes fadeInUp {
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
    `;
    document.head.appendChild(animationStyle);
  </script>
</body>
</html>
